{"remainingRequest":"/home/clockwise/programming/clone-banking/node_modules/babel-loader/lib/index.js!/home/clockwise/programming/clone-banking/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/clockwise/programming/clone-banking/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/clockwise/programming/clone-banking/src/views/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/clockwise/programming/clone-banking/src/views/Home.vue","mtime":1710058175665},{"path":"/home/clockwise/programming/clone-banking/babel.config.js","mtime":1710058175653},{"path":"/home/clockwise/programming/clone-banking/node_modules/cache-loader/dist/cjs.js","mtime":1710063058123},{"path":"/home/clockwise/programming/clone-banking/node_modules/babel-loader/lib/index.js","mtime":1710063059827},{"path":"/home/clockwise/programming/clone-banking/node_modules/cache-loader/dist/cjs.js","mtime":1710063058123},{"path":"/home/clockwise/programming/clone-banking/node_modules/vue-loader-v16/dist/index.js","mtime":1710063059003}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVmLCBjb21wdXRlZCwgb25Nb3VudGVkIH0gZnJvbSAidnVlIjsKaW1wb3J0IEFwcFBhZ2UgZnJvbSAiQC9jb21wb25lbnRzL3VpL0FwcFBhZ2UudnVlIjsKaW1wb3J0IFJlcXVlc3RUYWJsZSBmcm9tICJAL2NvbXBvbmVudHMvcmVxdWVzdC9SZXF1ZXN0VGFibGUudnVlIjsKaW1wb3J0IEFwcE1vZGFsIGZyb20gIkAvY29tcG9uZW50cy91aS9BcHBNb2RhbC52dWUiOwppbXBvcnQgUmVxdWVzdE1vZGFsIGZyb20gIkAvY29tcG9uZW50cy9yZXF1ZXN0L1JlcXVlc3RNb2RhbC52dWUiOwppbXBvcnQgUmVxdWVzdEZpbHRlciBmcm9tICJAL2NvbXBvbmVudHMvcmVxdWVzdC9SZXF1ZXN0RmlsdGVyLnZ1ZSI7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAidnVleCI7CmltcG9ydCBBcHBMb2FkZXIgZnJvbSAiQC9jb21wb25lbnRzL3VpL0FwcExvYWRlci52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXAoKSB7CiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICBjb25zdCBtb2RhbCA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBsb2FkaW5nID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IGZpbHRlciA9IHJlZih7fSk7CiAgICBvbk1vdW50ZWQoYXN5bmMgKCkgPT4gewogICAgICBsb2FkaW5nLnZhbHVlID0gdHJ1ZTsKICAgICAgYXdhaXQgc3RvcmUuZGlzcGF0Y2goJ3JlcXVlc3QvbG9hZCcpOwogICAgICBsb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICB9KTsKICAgIGNvbnN0IHJlcXVlc3RzID0gY29tcHV0ZWQoKCkgPT4gc3RvcmUuZ2V0dGVyc1sncmVxdWVzdC9yZXF1ZXN0cyddLmZpbHRlcihyZXF1ZXN0ID0+IHsKICAgICAgaWYgKGZpbHRlci52YWx1ZS5uYW1lKSB7CiAgICAgICAgcmV0dXJuIHJlcXVlc3QuZmlvLmluY2x1ZGVzKGZpbHRlci52YWx1ZS5uYW1lKTsKICAgICAgfQogICAgICByZXR1cm4gcmVxdWVzdDsKICAgIH0pLmZpbHRlcihyZXF1ZXN0ID0+IHsKICAgICAgaWYgKGZpbHRlci52YWx1ZS5zdGF0dXMpIHsKICAgICAgICByZXR1cm4gZmlsdGVyLnZhbHVlLnN0YXR1cyA9PT0gcmVxdWVzdC5zdGF0dXM7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlcXVlc3Q7CiAgICB9KSk7CiAgICByZXR1cm4gewogICAgICBtb2RhbCwKICAgICAgcmVxdWVzdHMsCiAgICAgIGxvYWRpbmcsCiAgICAgIGZpbHRlcgogICAgfTsKICB9LAogIG5hbWU6ICdIb21lJywKICBjb21wb25lbnRzOiB7CiAgICBBcHBMb2FkZXIsCiAgICBBcHBQYWdlLAogICAgUmVxdWVzdFRhYmxlLAogICAgQXBwTW9kYWwsCiAgICBSZXF1ZXN0TW9kYWwsCiAgICBSZXF1ZXN0RmlsdGVyCiAgfQp9Ow=="},{"version":3,"names":["ref","computed","onMounted","AppPage","RequestTable","AppModal","RequestModal","RequestFilter","useStore","AppLoader","setup","store","modal","loading","filter","value","dispatch","requests","getters","request","name","fio","includes","status","components"],"sources":["/home/clockwise/programming/clone-banking/src/views/Home.vue"],"sourcesContent":["<template>\n  <app-loader v-if=\"loading\"></app-loader>\n  <app-page title=\"Список заявок\" v-else>\n    <template #header>\n      <button class=\"btn primary\" @click=\"modal = true\">Создать</button>\n    </template>\n\n    <request-filter v-model=\"filter\"></request-filter>\n    <RequestTable :requests=\"requests\"></RequestTable>\n\n\n    <teleport to=\"body\">\n      <app-modal v-if=\"modal\" title=\"Создать заявку\" @close=\"modal = false\">\n        <request-modal @created=\"modal = false\"></request-modal>\n      </app-modal>\n    </teleport>\n  </app-page>\n\n</template>\n\n<script>\nimport {ref, computed, onMounted} from \"vue\";\nimport AppPage from \"@/components/ui/AppPage.vue\";\nimport RequestTable from \"@/components/request/RequestTable.vue\";\nimport AppModal from \"@/components/ui/AppModal.vue\";\nimport RequestModal from \"@/components/request/RequestModal.vue\";\nimport RequestFilter from \"@/components/request/RequestFilter.vue\";\nimport {useStore} from \"vuex\";\nimport AppLoader from \"@/components/ui/AppLoader.vue\";\n\nexport default {\n  setup() {\n    const store = useStore()\n    const modal = ref(false)\n    const loading = ref(false)\n    const filter = ref({})\n\n\n    onMounted(async () => {\n      loading.value = true\n      await store.dispatch('request/load')\n      loading.value = false\n    })\n\n    const requests = computed(() => store.getters['request/requests']\n        .filter(request => {\n          if (filter.value.name) {\n            return request.fio.includes(filter.value.name)\n          }\n          return request\n        })\n        .filter(request => {\n          if(filter.value.status){\n            return filter.value.status === request.status\n          }\n          return request\n        })\n    )\n\n    return {\n      modal, requests, loading, filter\n    }\n  },\n  name: 'Home',\n  components: {AppLoader, AppPage, RequestTable, AppModal, RequestModal, RequestFilter}\n}\n</script>\n"],"mappings":"AAqBA,SAAQA,GAAG,EAAEC,QAAQ,EAAEC,SAAS,QAAO,KAAK;AAC5C,OAAOC,OAAM,MAAO,6BAA6B;AACjD,OAAOC,YAAW,MAAO,uCAAuC;AAChE,OAAOC,QAAO,MAAO,8BAA8B;AACnD,OAAOC,YAAW,MAAO,uCAAuC;AAChE,OAAOC,aAAY,MAAO,wCAAwC;AAClE,SAAQC,QAAQ,QAAO,MAAM;AAC7B,OAAOC,SAAQ,MAAO,+BAA+B;AAErD,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIH,QAAQ,CAAC;IACvB,MAAMI,KAAI,GAAIZ,GAAG,CAAC,KAAK;IACvB,MAAMa,OAAM,GAAIb,GAAG,CAAC,KAAK;IACzB,MAAMc,MAAK,GAAId,GAAG,CAAC,CAAC,CAAC;IAGrBE,SAAS,CAAC,YAAY;MACpBW,OAAO,CAACE,KAAI,GAAI,IAAG;MACnB,MAAMJ,KAAK,CAACK,QAAQ,CAAC,cAAc;MACnCH,OAAO,CAACE,KAAI,GAAI,KAAI;IACtB,CAAC;IAED,MAAME,QAAO,GAAIhB,QAAQ,CAAC,MAAMU,KAAK,CAACO,OAAO,CAAC,kBAAkB,EAC3DJ,MAAM,CAACK,OAAM,IAAK;MACjB,IAAIL,MAAM,CAACC,KAAK,CAACK,IAAI,EAAE;QACrB,OAAOD,OAAO,CAACE,GAAG,CAACC,QAAQ,CAACR,MAAM,CAACC,KAAK,CAACK,IAAI;MAC/C;MACA,OAAOD,OAAM;IACf,CAAC,EACAL,MAAM,CAACK,OAAM,IAAK;MACjB,IAAGL,MAAM,CAACC,KAAK,CAACQ,MAAM,EAAC;QACrB,OAAOT,MAAM,CAACC,KAAK,CAACQ,MAAK,KAAMJ,OAAO,CAACI,MAAK;MAC9C;MACA,OAAOJ,OAAM;IACf,CAAC,CACL;IAEA,OAAO;MACLP,KAAK;MAAEK,QAAQ;MAAEJ,OAAO;MAAEC;IAC5B;EACF,CAAC;EACDM,IAAI,EAAE,MAAM;EACZI,UAAU,EAAE;IAACf,SAAS;IAAEN,OAAO;IAAEC,YAAY;IAAEC,QAAQ;IAAEC,YAAY;IAAEC;EAAa;AACtF","ignoreList":[]}]}