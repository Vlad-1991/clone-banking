{"remainingRequest":"/home/clockwise/programming/clone-banking/node_modules/babel-loader/lib/index.js!/home/clockwise/programming/clone-banking/src/store/modules/request.module.js","dependencies":[{"path":"/home/clockwise/programming/clone-banking/src/store/modules/request.module.js","mtime":1710058175665},{"path":"/home/clockwise/programming/clone-banking/babel.config.js","mtime":1710058175653},{"path":"/home/clockwise/programming/clone-banking/node_modules/cache-loader/dist/cjs.js","mtime":1710063058123},{"path":"/home/clockwise/programming/clone-banking/node_modules/babel-loader/lib/index.js","mtime":1710063059827}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICcuLi8uLi9heGlvcy9yZXF1ZXN0JzsKaW1wb3J0IHN0b3JlIGZyb20gJy4uL2luZGV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGUoKSB7CiAgICByZXR1cm4gewogICAgICByZXF1ZXN0czogW10KICAgIH07CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldFJlcXVlc3RzKHN0YXRlLCByZXF1ZXN0cykgewogICAgICBzdGF0ZS5yZXF1ZXN0cyA9IHJlcXVlc3RzOwogICAgfSwKICAgIGFkZFJlcXVlc3Qoc3RhdGUsIHJlcXVlc3QpIHsKICAgICAgc3RhdGUucmVxdWVzdHMucHVzaChyZXF1ZXN0KTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGFzeW5jIGNyZWF0ZSh7CiAgICAgIGNvbW1pdCwKICAgICAgZGlzcGF0Y2gKICAgIH0sIHBheWxvYWQpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCB0b2tlbiA9IHN0b3JlLmdldHRlcnNbImF1dGgvdG9rZW4iXTsKICAgICAgICBjb25zdCB7CiAgICAgICAgICBkYXRhCiAgICAgICAgfSA9IGF3YWl0IGF4aW9zLnBvc3QoYC9yZXF1ZXN0cy5qc29uP2F1dGg9JHt0b2tlbn1gLCBwYXlsb2FkKTsKICAgICAgICBjb21taXQoJ2FkZFJlcXVlc3QnLCB7CiAgICAgICAgICAuLi5wYXlsb2FkLAogICAgICAgICAgaWQ6IGRhdGEubmFtZQogICAgICAgIH0pOwogICAgICAgIGRpc3BhdGNoKCdzZXRNZXNzYWdlJywgewogICAgICAgICAgdmFsdWU6ICfQl9Cw0Y/QstC60LAg0YPRgdC/0LXRiNC90L4g0YHQvtC30LTQsNC90LAnLAogICAgICAgICAgdHlwZTogJ3ByaW1hcnknCiAgICAgICAgfSwgewogICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgZGlzcGF0Y2goJ3NldE1lc3NhZ2UnLCB7CiAgICAgICAgICB2YWx1ZTogZS5tZXNzYWdlLAogICAgICAgICAgdHlwZTogJ2RhbmdlcicKICAgICAgICB9LCB7CiAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBsb2FkKHsKICAgICAgY29tbWl0LAogICAgICBkaXNwYXRjaAogICAgfSkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHRva2VuID0gc3RvcmUuZ2V0dGVyc1siYXV0aC90b2tlbiJdOwogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGRhdGEKICAgICAgICB9ID0gYXdhaXQgYXhpb3MuZ2V0KGAvcmVxdWVzdHMuanNvbj9hdXRoPSR7dG9rZW59YCk7CiAgICAgICAgY29uc3QgcmVxdWVzdHMgPSBPYmplY3Qua2V5cyhkYXRhKS5tYXAoaWQgPT4gKHsKICAgICAgICAgIC4uLmRhdGFbaWRdLAogICAgICAgICAgaWQKICAgICAgICB9KSk7CiAgICAgICAgY29tbWl0KCdzZXRSZXF1ZXN0cycsIHJlcXVlc3RzKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGRpc3BhdGNoKCdzZXRNZXNzYWdlJywgewogICAgICAgICAgdmFsdWU6IGUubWVzc2FnZSwKICAgICAgICAgIHR5cGU6ICdkYW5nZXInCiAgICAgICAgfSwgewogICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgbG9hZEJ5SWQoewogICAgICBjb21taXQsCiAgICAgIGRpc3BhdGNoCiAgICB9LCBpZCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHRva2VuID0gc3RvcmUuZ2V0dGVyc1siYXV0aC90b2tlbiJdOwogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGRhdGEKICAgICAgICB9ID0gYXdhaXQgYXhpb3MuZ2V0KGAvcmVxdWVzdHMvJHtpZH0uanNvbj9hdXRoPSR7dG9rZW59YCk7CiAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBkaXNwYXRjaCgnc2V0TWVzc2FnZScsIHsKICAgICAgICAgIHZhbHVlOiBlLm1lc3NhZ2UsCiAgICAgICAgICB0eXBlOiAnZGFuZ2VyJwogICAgICAgIH0sIHsKICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHJlbW92ZSh7CiAgICAgIGRpc3BhdGNoCiAgICB9LCBpZCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHRva2VuID0gc3RvcmUuZ2V0dGVyc1siYXV0aC90b2tlbiJdOwogICAgICAgIGF3YWl0IGF4aW9zLmRlbGV0ZShgL3JlcXVlc3RzLyR7aWR9Lmpzb24/YXV0aD0ke3Rva2VufWApOwogICAgICAgIGRpc3BhdGNoKCdzZXRNZXNzYWdlJywgewogICAgICAgICAgdmFsdWU6ICfQl9Cw0Y/QstC60LAg0YPQtNCw0LvQtdC90LAnLAogICAgICAgICAgdHlwZTogJ3ByaW1hcnknCiAgICAgICAgfSwgewogICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgZGlzcGF0Y2goJ3NldE1lc3NhZ2UnLCB7CiAgICAgICAgICB2YWx1ZTogZS5tZXNzYWdlLAogICAgICAgICAgdHlwZTogJ2RhbmdlcicKICAgICAgICB9LCB7CiAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyB1cGRhdGUoewogICAgICBkaXNwYXRjaAogICAgfSwgcmVxdWVzdCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHRva2VuID0gc3RvcmUuZ2V0dGVyc1siYXV0aC90b2tlbiJdOwogICAgICAgIGF3YWl0IGF4aW9zLnB1dChgL3JlcXVlc3RzLyR7cmVxdWVzdC5pZH0uanNvbj9hdXRoPSR7dG9rZW59YCwgcmVxdWVzdCk7CiAgICAgICAgZGlzcGF0Y2goJ3NldE1lc3NhZ2UnLCB7CiAgICAgICAgICB2YWx1ZTogJ9CX0LDRj9Cy0LrQsCDQvtCx0L3QvtCy0LvQtdC90LAnLAogICAgICAgICAgdHlwZTogJ3ByaW1hcnknCiAgICAgICAgfSwgewogICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgZGlzcGF0Y2goJ3NldE1lc3NhZ2UnLCB7CiAgICAgICAgICB2YWx1ZTogZS5tZXNzYWdlLAogICAgICAgICAgdHlwZTogJ2RhbmdlcicKICAgICAgICB9LCB7CiAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIHJlcXVlc3RzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5yZXF1ZXN0czsKICAgIH0KICB9Cn07"},{"version":3,"names":["axios","store","namespaced","state","requests","mutations","setRequests","addRequest","request","push","actions","create","commit","dispatch","payload","token","getters","data","post","id","name","value","type","root","e","message","load","get","Object","keys","map","loadById","remove","delete","update","put"],"sources":["/home/clockwise/programming/clone-banking/src/store/modules/request.module.js"],"sourcesContent":["import axios from '../../axios/request'\r\nimport store from '../index'\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state() {\r\n        return {\r\n            requests: []\r\n        }\r\n    },\r\n    mutations: {\r\n        setRequests(state, requests) {\r\n            state.requests = requests\r\n        },\r\n        addRequest(state, request) {\r\n            state.requests.push(request)\r\n        }\r\n    },\r\n    actions: {\r\n        async create({commit, dispatch}, payload) {\r\n            try {\r\n                const token = store.getters[\"auth/token\"]\r\n                const {data} = await axios.post(`/requests.json?auth=${token}`, payload)\r\n                commit('addRequest', {...payload, id: data.name})\r\n                dispatch('setMessage', {\r\n                    value: 'Заявка успешно создана',\r\n                    type: 'primary'\r\n                }, {root: true})\r\n            } catch (e) {\r\n                dispatch('setMessage', {\r\n                    value: e.message,\r\n                    type: 'danger'\r\n                }, {root: true})\r\n            }\r\n        },\r\n        async load({commit, dispatch}){\r\n            try {\r\n                const token = store.getters[\"auth/token\"]\r\n                const {data} = await axios.get(`/requests.json?auth=${token}`)\r\n                const requests = Object.keys(data).map(id => ({...data[id], id}))\r\n                commit('setRequests', requests)\r\n            } catch (e) {\r\n                dispatch('setMessage', {\r\n                    value: e.message,\r\n                    type: 'danger'\r\n                }, {root: true})\r\n            }\r\n        },\r\n        async loadById({commit, dispatch}, id){\r\n            try {\r\n                const token = store.getters[\"auth/token\"]\r\n                const {data} = await axios.get(`/requests/${id}.json?auth=${token}`)\r\n                return data\r\n            } catch (e) {\r\n                dispatch('setMessage', {\r\n                    value: e.message,\r\n                    type: 'danger'\r\n                }, {root: true})\r\n            }\r\n        },\r\n        async remove({ dispatch}, id){\r\n            try {\r\n                const token = store.getters[\"auth/token\"]\r\n                await axios.delete(`/requests/${id}.json?auth=${token}`)\r\n                dispatch('setMessage', {\r\n                    value: 'Заявка удалена',\r\n                    type: 'primary'\r\n                }, {root: true})\r\n            } catch (e) {\r\n                dispatch('setMessage', {\r\n                    value: e.message,\r\n                    type: 'danger'\r\n                }, {root: true})\r\n            }\r\n        },\r\n        async update({ dispatch}, request){\r\n            try {\r\n                const token = store.getters[\"auth/token\"]\r\n                await axios.put(`/requests/${request.id}.json?auth=${token}`, request)\r\n                dispatch('setMessage', {\r\n                    value: 'Заявка обновлена',\r\n                    type: 'primary'\r\n                }, {root: true})\r\n            } catch (e) {\r\n                dispatch('setMessage', {\r\n                    value: e.message,\r\n                    type: 'danger'\r\n                }, {root: true})\r\n            }\r\n        }\r\n    },\r\n    getters: {\r\n        requests(state) {\r\n            return state.requests\r\n        }\r\n    }\r\n}"],"mappings":";AAAA,OAAOA,KAAK,MAAM,qBAAqB;AACvC,OAAOC,KAAK,MAAM,UAAU;AAE5B,eAAe;EACXC,UAAU,EAAE,IAAI;EAChBC,KAAKA,CAAA,EAAG;IACJ,OAAO;MACHC,QAAQ,EAAE;IACd,CAAC;EACL,CAAC;EACDC,SAAS,EAAE;IACPC,WAAWA,CAACH,KAAK,EAAEC,QAAQ,EAAE;MACzBD,KAAK,CAACC,QAAQ,GAAGA,QAAQ;IAC7B,CAAC;IACDG,UAAUA,CAACJ,KAAK,EAAEK,OAAO,EAAE;MACvBL,KAAK,CAACC,QAAQ,CAACK,IAAI,CAACD,OAAO,CAAC;IAChC;EACJ,CAAC;EACDE,OAAO,EAAE;IACL,MAAMC,MAAMA,CAAC;MAACC,MAAM;MAAEC;IAAQ,CAAC,EAAEC,OAAO,EAAE;MACtC,IAAI;QACA,MAAMC,KAAK,GAAGd,KAAK,CAACe,OAAO,CAAC,YAAY,CAAC;QACzC,MAAM;UAACC;QAAI,CAAC,GAAG,MAAMjB,KAAK,CAACkB,IAAI,CAAE,uBAAsBH,KAAM,EAAC,EAAED,OAAO,CAAC;QACxEF,MAAM,CAAC,YAAY,EAAE;UAAC,GAAGE,OAAO;UAAEK,EAAE,EAAEF,IAAI,CAACG;QAAI,CAAC,CAAC;QACjDP,QAAQ,CAAC,YAAY,EAAE;UACnBQ,KAAK,EAAE,wBAAwB;UAC/BC,IAAI,EAAE;QACV,CAAC,EAAE;UAACC,IAAI,EAAE;QAAI,CAAC,CAAC;MACpB,CAAC,CAAC,OAAOC,CAAC,EAAE;QACRX,QAAQ,CAAC,YAAY,EAAE;UACnBQ,KAAK,EAAEG,CAAC,CAACC,OAAO;UAChBH,IAAI,EAAE;QACV,CAAC,EAAE;UAACC,IAAI,EAAE;QAAI,CAAC,CAAC;MACpB;IACJ,CAAC;IACD,MAAMG,IAAIA,CAAC;MAACd,MAAM;MAAEC;IAAQ,CAAC,EAAC;MAC1B,IAAI;QACA,MAAME,KAAK,GAAGd,KAAK,CAACe,OAAO,CAAC,YAAY,CAAC;QACzC,MAAM;UAACC;QAAI,CAAC,GAAG,MAAMjB,KAAK,CAAC2B,GAAG,CAAE,uBAAsBZ,KAAM,EAAC,CAAC;QAC9D,MAAMX,QAAQ,GAAGwB,MAAM,CAACC,IAAI,CAACZ,IAAI,CAAC,CAACa,GAAG,CAACX,EAAE,KAAK;UAAC,GAAGF,IAAI,CAACE,EAAE,CAAC;UAAEA;QAAE,CAAC,CAAC,CAAC;QACjEP,MAAM,CAAC,aAAa,EAAER,QAAQ,CAAC;MACnC,CAAC,CAAC,OAAOoB,CAAC,EAAE;QACRX,QAAQ,CAAC,YAAY,EAAE;UACnBQ,KAAK,EAAEG,CAAC,CAACC,OAAO;UAChBH,IAAI,EAAE;QACV,CAAC,EAAE;UAACC,IAAI,EAAE;QAAI,CAAC,CAAC;MACpB;IACJ,CAAC;IACD,MAAMQ,QAAQA,CAAC;MAACnB,MAAM;MAAEC;IAAQ,CAAC,EAAEM,EAAE,EAAC;MAClC,IAAI;QACA,MAAMJ,KAAK,GAAGd,KAAK,CAACe,OAAO,CAAC,YAAY,CAAC;QACzC,MAAM;UAACC;QAAI,CAAC,GAAG,MAAMjB,KAAK,CAAC2B,GAAG,CAAE,aAAYR,EAAG,cAAaJ,KAAM,EAAC,CAAC;QACpE,OAAOE,IAAI;MACf,CAAC,CAAC,OAAOO,CAAC,EAAE;QACRX,QAAQ,CAAC,YAAY,EAAE;UACnBQ,KAAK,EAAEG,CAAC,CAACC,OAAO;UAChBH,IAAI,EAAE;QACV,CAAC,EAAE;UAACC,IAAI,EAAE;QAAI,CAAC,CAAC;MACpB;IACJ,CAAC;IACD,MAAMS,MAAMA,CAAC;MAAEnB;IAAQ,CAAC,EAAEM,EAAE,EAAC;MACzB,IAAI;QACA,MAAMJ,KAAK,GAAGd,KAAK,CAACe,OAAO,CAAC,YAAY,CAAC;QACzC,MAAMhB,KAAK,CAACiC,MAAM,CAAE,aAAYd,EAAG,cAAaJ,KAAM,EAAC,CAAC;QACxDF,QAAQ,CAAC,YAAY,EAAE;UACnBQ,KAAK,EAAE,gBAAgB;UACvBC,IAAI,EAAE;QACV,CAAC,EAAE;UAACC,IAAI,EAAE;QAAI,CAAC,CAAC;MACpB,CAAC,CAAC,OAAOC,CAAC,EAAE;QACRX,QAAQ,CAAC,YAAY,EAAE;UACnBQ,KAAK,EAAEG,CAAC,CAACC,OAAO;UAChBH,IAAI,EAAE;QACV,CAAC,EAAE;UAACC,IAAI,EAAE;QAAI,CAAC,CAAC;MACpB;IACJ,CAAC;IACD,MAAMW,MAAMA,CAAC;MAAErB;IAAQ,CAAC,EAAEL,OAAO,EAAC;MAC9B,IAAI;QACA,MAAMO,KAAK,GAAGd,KAAK,CAACe,OAAO,CAAC,YAAY,CAAC;QACzC,MAAMhB,KAAK,CAACmC,GAAG,CAAE,aAAY3B,OAAO,CAACW,EAAG,cAAaJ,KAAM,EAAC,EAAEP,OAAO,CAAC;QACtEK,QAAQ,CAAC,YAAY,EAAE;UACnBQ,KAAK,EAAE,kBAAkB;UACzBC,IAAI,EAAE;QACV,CAAC,EAAE;UAACC,IAAI,EAAE;QAAI,CAAC,CAAC;MACpB,CAAC,CAAC,OAAOC,CAAC,EAAE;QACRX,QAAQ,CAAC,YAAY,EAAE;UACnBQ,KAAK,EAAEG,CAAC,CAACC,OAAO;UAChBH,IAAI,EAAE;QACV,CAAC,EAAE;UAACC,IAAI,EAAE;QAAI,CAAC,CAAC;MACpB;IACJ;EACJ,CAAC;EACDP,OAAO,EAAE;IACLZ,QAAQA,CAACD,KAAK,EAAE;MACZ,OAAOA,KAAK,CAACC,QAAQ;IACzB;EACJ;AACJ,CAAC","ignoreList":[]}]}